# ADR-P5-002 — ANR Credit Shaping & LinUCB Persistence

**Status:** Accepted — 2025-09-28

## Decision
Use LinUCB per-route models with JSON persistence. Two reward channels:
- Immediate: latency + TRI delta (normalized)
- Deployment: slo_ok, error_rate, rollback, transform_rate (shaped)

## Rationale
Immediate signals keep routing responsive; delayed outcomes align to correctness.

## Parameters
`alpha=0.8`, `ridge=0.01`, state: `NOVA_ANR_STATE_PATH`

## Ops
Snapshot state daily; bump version if feature vector changes.