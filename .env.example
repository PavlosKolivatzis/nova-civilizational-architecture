# =============================================================================
# NOVA Civilizational Architecture - Environment Configuration
# =============================================================================
# Complete environment variable reference for Nova 5.1.1+
# All 142 documented variables with sensible defaults
# =============================================================================

# -----------------------------------------------------------------------------
# Core System Configuration
# -----------------------------------------------------------------------------

# Flask debug mode for app.py (0=off, 1=on; default off for security)
FLASK_DEBUG=0

# Truth threshold for core validation (0.0-1.0)
NOVA_TRUTH_THRESHOLD=0.87

# System operating mode (testing, staging, production)
NOVA_CURRENT_MODE=testing

# Anchor validation mode (STRICT, PERMISSIVE)
NOVA_ANCHOR_VALIDATION_MODE=STRICT

# System log level (DEBUG, INFO, WARNING, ERROR)
NOVA_LOG_LEVEL=INFO

# Logging configuration (duplicates LOG_LEVEL for slot compatibility)
LOG_LEVEL=INFO

# Maximum concurrent processes for parallel operations
NOVA_MAX_CONCURRENT_PROCESSES=12

# Build version and deployment tracking
NOVA_VERSION=5.1.1-polish
NOVA_BUILD_SHA=unknown

# -----------------------------------------------------------------------------
# Security & Authentication
# -----------------------------------------------------------------------------

# JWT secret for token signing (CHANGE IN PRODUCTION)
JWT_SECRET=testing-secret

# API key for external integrations (optional)
NOVA_API_KEY=

# Require security checks (1=enabled, 0=disabled)
NOVA_REQUIRE_SECURITY=1

# Reflection secret for secure internal communication
NOVA_REFLECTION_SECRET=

# -----------------------------------------------------------------------------
# Feature Flags - Core
# -----------------------------------------------------------------------------

# Enable Prometheus metrics endpoint (/metrics)
NOVA_ENABLE_PROMETHEUS=0

# Enable application lifespan management
NOVA_ENABLE_LIFESPAN=0

# Enable TRI linking between slots
NOVA_ENABLE_TRI_LINK=0

# Enable Meta Lens adaptive processing
NOVA_ENABLE_META_LENS=0

# Use shared blake2b hash (fallback: sha256)
NOVA_USE_SHARED_HASH=0

# Enable creativity search metrics
NOVA_ENABLE_CREATIVITY_METRICS=1

# Enable adaptive slot connections
NOVA_ADAPTIVE_CONNECTIONS_ENABLED=false

# Enable hot reload in development
NOVA_HOT_RELOAD=

# Enable Slot 10 civilizational deployment
NOVA_SLOT10_ENABLED=false

# Enable geometric memory (experimental)
NOVA_GM_ENABLED=false

# Enable reflex backpressure system
NOVA_REFLEX_ENABLED=false

# Reflex shadow mode (monitor without enforcement)
NOVA_REFLEX_SHADOW=true

# -----------------------------------------------------------------------------
# Router Configuration
# -----------------------------------------------------------------------------

# Router latency target in milliseconds
NOVA_ROUTER_LATENCY_MS=1000

# Router error threshold (0.0-1.0)
NOVA_ROUTER_ERROR_THRESHOLD=0.2

# Router timeout multiplier for adaptive timeouts
NOVA_ROUTER_TIMEOUT_MULTIPLIER=1.5

# Router timeout cap in seconds
NOVA_ROUTER_TIMEOUT_CAP_S=30

# -----------------------------------------------------------------------------
# ANR (Adaptive Neural Router) Configuration
# -----------------------------------------------------------------------------

# Enable ANR adaptive routing (0=disabled, 1=enabled)
NOVA_ANR_ENABLED=0

# ANR pilot traffic percentage (0.0-1.0)
NOVA_ANR_PILOT=0.0

# ANR epsilon for exploration (0.0-1.0)
NOVA_ANR_EPSILON=0.05

# ANR shadow sampling rate (0.0-1.0)
NOVA_ANR_SHADOW_SAMPLE=1.0

# Learn from shadow traffic (1=enabled, 0=disabled)
NOVA_ANR_LEARN_SHADOW=1

# Path to ANR LinUCB bandit state file
NOVA_ANR_STATE_PATH=./state/anr_linucb.json

# ANR bandit alpha parameter (confidence)
NOVA_ANR_ALPHA=0.8

# ANR ridge regularization parameter
NOVA_ANR_RIDGE=0.01

# Strict mode on anomaly detection (1=abort, 0=continue)
NOVA_ANR_STRICT_ON_ANOMALY=0

# Maximum fast-path probability cap
NOVA_ANR_MAX_FAST_PROB=0.15

# ANR kill switch (1=disable completely, 0=normal)
NOVA_ANR_KILL=0

# -----------------------------------------------------------------------------
# Semantic Creativity Search Configuration
# -----------------------------------------------------------------------------

# Enable early stopping (1=enabled, 0=disabled)
NOVA_CREATIVITY_EARLY_STOP=0

# Enable two-phase refinement
NOVA_CREATIVITY_TWO_PHASE=0

# Enable branch-and-bound pruning
NOVA_CREATIVITY_BNB=0

# Debug mode for creativity search
NOVA_CREATIVITY_DEBUG=0

# Maximum search tree depth
NOVA_CREATIVITY_MAX_DEPTH=3

# Maximum branches per node
NOVA_CREATIVITY_MAX_BRANCHES=6

# Maximum tokens per probe
NOVA_CREATIVITY_MAX_TOKENS=64

# Novelty eta for diversity scoring
NOVA_CREATIVITY_NOVELTY_ETA=0.08

# Information gain epsilon threshold
NOVA_CREATIVITY_INFO_GAIN_EPS=0.02

# Minimum entropy threshold
NOVA_CREATIVITY_ENTROPY_MIN=1.2

# Maximum entropy threshold
NOVA_CREATIVITY_ENTROPY_MAX=2.8

# EWMA alpha for smoothing
NOVA_CREATIVITY_EWMA_ALPHA=0.01

# Entropy delta stall threshold
NOVA_CREATIVITY_ENTROPY_DELTA_STALL=0.01

# Early stop target score
NOVA_CREATIVITY_EARLY_STOP_SCORE=0.62

# Early stop minimum info gain
NOVA_CREATIVITY_EARLY_STOP_IG=0.03

# Two-phase refinement threshold
NOVA_CREATIVITY_TWO_PHASE_THRESH=0.045

# Two-phase minimum branches
NOVA_CREATIVITY_TWO_PHASE_MIN=3

# Branch-and-bound quality threshold
NOVA_CREATIVITY_BNB_Q=0.40

# Branch-and-bound safety margin
NOVA_CREATIVITY_BNB_MARGIN=0.05

# -----------------------------------------------------------------------------
# Unlearn Weighting System
# -----------------------------------------------------------------------------

# Enable anomaly-driven unlearn weighting (1=enabled, 0=disabled)
NOVA_UNLEARN_ANOMALY=0

# EWMA smoothing factor for anomaly detection
NOVA_UNLEARN_ANOM_ALPHA=0.30

# Engagement threshold (tau)
NOVA_UNLEARN_ANOM_TAU=1.00

# Hysteresis margin
NOVA_UNLEARN_ANOM_MARGIN=0.20

# Linear gain above threshold
NOVA_UNLEARN_ANOM_GAIN=0.50

# Maximum multiplier cap
NOVA_UNLEARN_ANOM_CAP=3.00

# Sliding window size
NOVA_UNLEARN_ANOM_WIN=5

# Required breaches for engagement
NOVA_UNLEARN_ANOM_REQ=3

# Minimum half-life in seconds
NOVA_UNLEARN_MIN_HALF_LIFE=60

# Maximum half-life in seconds
NOVA_UNLEARN_MAX_HALF_LIFE=1800

# Default weights: TRI drift sensitivity
NOVA_UNLEARN_W_TRI=0.5

# Default weights: system pressure sensitivity
NOVA_UNLEARN_W_PRESS=0.4

# Default weights: phase jitter sensitivity
NOVA_UNLEARN_W_JITTER=0.1

# Enable pulse logging to NDJSON
NOVA_UNLEARN_PULSE_LOG=1

# Path to pulse log file
NOVA_UNLEARN_PULSE_PATH=logs/unlearn_pulses.ndjson

# Maximum log file size in bytes
NOVA_UNLEARN_LOG_MAX_BYTES=10485760

# Number of log file backups
NOVA_UNLEARN_LOG_BACKUPS=5

# -----------------------------------------------------------------------------
# Unlearn Canary System
# -----------------------------------------------------------------------------

# Enable canary monitoring (1=enabled, 0=disabled)
NOVA_UNLEARN_CANARY=0

# Canary check period in seconds
NOVA_UNLEARN_CANARY_PERIOD=3600

# Canary key to monitor
NOVA_UNLEARN_CANARY_KEY=slot06.cultural_profile

# Canary publisher slot
NOVA_UNLEARN_CANARY_PUBLISHER=slot05

# Minimum TTL for eligibility in seconds
NOVA_UNLEARN_CANARY_TTL=60

# Age since expiry threshold in seconds
NOVA_UNLEARN_CANARY_AGE=120

# -----------------------------------------------------------------------------
# Flow Fabric Configuration
# -----------------------------------------------------------------------------

# Enable flow metrics collection
NOVA_FLOW_METRICS_ENABLED=true

# Flow mode (BALANCED, FAST, THOROUGH)
NOVA_FLOW_MODE=BALANCED

# Lazy initialization of flow fabric (1=lazy, 0=eager)
NOVA_FLOW_FABRIC_LAZY_INIT=1

# -----------------------------------------------------------------------------
# Slot-Specific Weights (Unlearn System)
# -----------------------------------------------------------------------------

# Slot 04 (TRI): TRI drift weight
NOVA_SLOT04_W_TRI=0.6

# Slot 04 (TRI): System pressure weight
NOVA_SLOT04_W_PRESS=0.3

# Slot 04 (TRI): Phase jitter weight
NOVA_SLOT04_W_JITTER=0.05

# Slot 06 (Cultural): TRI drift weight
NOVA_SLOT06_W_TRI=0.7

# Slot 06 (Cultural): System pressure weight
NOVA_SLOT06_W_PRESS=0.5

# Slot 06 (Cultural): Phase jitter weight
NOVA_SLOT06_W_JITTER=0.1

# Slot 07 (Production): TRI drift weight
NOVA_SLOT07_W_TRI=0.3

# Slot 07 (Production): System pressure weight
NOVA_SLOT07_W_PRESS=0.8

# Slot 07 (Production): Phase jitter weight
NOVA_SLOT07_W_JITTER=0.2

# Slot 08 (Memory): TRI drift weight
NOVA_SLOT08_W_TRI=0.4

# Slot 08 (Memory): System pressure weight
NOVA_SLOT08_W_PRESS=0.6

# Slot 08 (Memory): Phase jitter weight
NOVA_SLOT08_W_JITTER=0.1

# Slot 10 (Deployment): TRI drift weight
NOVA_SLOT10_W_TRI=0.5

# Slot 10 (Deployment): System pressure weight
NOVA_SLOT10_W_PRESS=0.7

# Slot 10 (Deployment): Phase jitter weight
NOVA_SLOT10_W_JITTER=0.3

# -----------------------------------------------------------------------------
# Slot 07 - Production Controls (Reflex)
# -----------------------------------------------------------------------------

# Reflex backpressure threshold (0.0-1.0)
NOVA_SLOT07_REFLEX_THRESHOLD=0.70

# Reflex slope for pressure mapping
NOVA_SLOT07_REFLEX_SLOPE=1.50

# Phase lock environment override
SLOT07_PHASE_LOCK=

# -----------------------------------------------------------------------------
# Slot 08 - Memory Lock
# -----------------------------------------------------------------------------

# Phase lock threshold for memory repair
SLOT08_PHASE_LOCK_THRESHOLD=0.5

# -----------------------------------------------------------------------------
# Slot 10 - Civilizational Deployment
# -----------------------------------------------------------------------------

# TRI gate threshold for deployment validation
NOVA_TRI_GATE=0.66

# Enable LightClock gating (1=enabled, 0=disabled)
NOVA_LIGHTCLOCK_GATING=1

# Enable deep LightClock phase checking
NOVA_LIGHTCLOCK_DEEP=1

# Allowed processing modes (comma-separated)
NOVA_SLOT9_ALLOWED=ALLOW_FASTPATH,STANDARD_PROCESSING

# Phase lock gate enable
NOVA_PHASE_LOCK_GATE=

# Publish TRI updates (1=enabled, 0=disabled)
NOVA_PUBLISH_TRI=1

# Enable probabilistic belief propagation contracts (1=enabled, 0=disabled)
NOVA_ENABLE_PROBABILISTIC_CONTRACTS=1

# Publish phase lock belief updates from Slot 07 (1=enabled, 0=disabled)
NOVA_PUBLISH_PHASE_LOCK=1

# Enable belief propagation publication from TRI engine (1=enabled, 0=disabled)
NOVA_PUBLISH_BELIEFS=1

# -----------------------------------------------------------------------------
# Meta Lens Configuration
# -----------------------------------------------------------------------------

# Meta Lens maximum iterations
META_LENS_MAX_ITERS=3
NOVA_META_LENS_MAX_ITERS=3

# Meta Lens alpha parameter
META_LENS_ALPHA=0.5
NOVA_META_LENS_ALPHA=0.5

# Meta Lens epsilon threshold
META_LENS_EPSILON=0.02
NOVA_META_LENS_EPSILON=0.02

# Adapter timeout in milliseconds
META_LENS_ADAPTER_TIMEOUT_MS=200

# Adapter maximum retries
META_LENS_ADAPTER_MAX_RETRIES=2

# Adapter circuit breaker TTL in seconds
META_LENS_ADAPTER_BREAKER_TTL_SEC=30

# Strict validation mode (1=enabled, 0=disabled)
META_LENS_STRICT_VALIDATION=0

# Enforce real processing in tests (1=enabled, 0=disabled)
NOVA_META_LENS_TEST_ENFORCE_REAL=0

# -----------------------------------------------------------------------------
# TRI (Truth-Resonance-Integrity) Configuration
# -----------------------------------------------------------------------------

# TRI coherence override
TRI_COHERENCE=

# TRI phase jitter override
TRI_PHASE_JITTER=

# TRI jitter stability threshold
TRI_JITTER_STABLE=0.3

# -----------------------------------------------------------------------------
# Slot Configuration
# -----------------------------------------------------------------------------

# Enabled slots (comma-separated slot IDs)
NOVA_SLOTS=

# Slot 2 environment override
SLOT2_ENV=

# -----------------------------------------------------------------------------
# Platform Detection (Auto-populated by environment)
# -----------------------------------------------------------------------------

# Platform identifier
PLATFORM=unknown

# Python version
PYTHON_VERSION=unknown

# Operational mode (for slot 2)
OPERATIONAL_MODE=

# Processing mode (for slot 2)
PROCESSING_MODE=

# Vercel deployment detection
VERCEL=
VERCEL_ENV=

# AWS Lambda detection
AWS_LAMBDA_FUNCTION_NAME=

# Google Cloud Function detection
FUNCTION_TARGET=
K_SERVICE=

# GitHub Actions CI detection
GITHUB_ACTIONS=

# -----------------------------------------------------------------------------
# Distortion Detection
# -----------------------------------------------------------------------------

# Distortion detection sensitivity (0.0-1.0)
NOVA_DISTORTION_DETECTION_SENSITIVITY=0.92

# -----------------------------------------------------------------------------
# Memory Ethics
# -----------------------------------------------------------------------------

# Enable memory ethics constraints (true/false)
NOVA_MEMORY_ETHICS_ENABLED=true

# -----------------------------------------------------------------------------
# Emotional Matrix (Slot 03)
# -----------------------------------------------------------------------------

# Phase lock threshold for emotional state
NOVA_EMO_PHASE_LOCK_THRESH=0.6

# -----------------------------------------------------------------------------
# Performance & Testing
# -----------------------------------------------------------------------------

# Performance test scale multiplier
NOVA_PERF_SCALE=1.0

# Allow expiration testing (1=enabled, 0=disabled)
NOVA_ALLOW_EXPIRE_TEST=1

# Test expiration age in seconds
NOVA_EXPIRE_TEST_AGE=

# Smeep health check interval in seconds
NOVA_SMEEP_INTERVAL=15

# =============================================================================
# End of Configuration
# =============================================================================
