schema: nova_contract/v1
contract_id: slot03_emotional@2
title: Emotional Matrix Truth Integration (TRI)
description: >
  Slot03 consumes the canonical TRI truth signal (tri_truth_signal@1)
  to replace legacy truth_score feeds. Coherence, drift_z, and jitter
  now gate emotional escalation, safety policies, and Semantic Mirror
  publications.

depends_on: tri_truth_signal@1

slots:
  - id: 4
    name: TRI Engine
    role: truth_canonizer
  - id: 3
    name: Emotional Matrix
    role: interpreter
  - id: 6
    name: Cultural Synthesis
    role: downstream_consumer
  - id: 7
    name: Production Controls
    role: downstream_consumer

interfaces:
  inputs:
    tri_truth_signal@1:
      consumed_fields:
        - tri_coherence
        - tri_drift_z
        - tri_jitter
        - tri_band
      semantic_mirror_key: slot04.tri_truth_signal
      ttl_seconds: 45
  outputs:
    EMOTION_REPORT@1:
      enriched_with: [tri_coherence, tri_band]
    DELTA_THREAT@1:
      enriched_with: [tri_drift_z]
    TRI_REPORT@1:
      deprecated: true
      replacement: tri_truth_signal@1

processing_rules:
  - name: coherence_gated_escalation
    rule: "Escalation suppressed when tri_coherence >= 0.82 and tri_jitter <= 0.08."
  - name: drift_sensitive_alerts
    rule: "tri_drift_z > 1.8 pushes DELTA_THREAT escalation_path=['slot07_production_controls']."
  - name: jitter_based_rate_limit
    rule: "Increase analysis cooldown when tri_jitter > 0.25."

observability:
  semantic_mirror_reads:
    - key: slot04.tri_truth_signal
      requester: slot03_emotional_matrix
  metrics:
    - nova_slot03_tri_coherence
    - nova_slot03_tri_band

safety_guarantees:
  - "All Slot03 publications include tri_band for downstream audit."
  - "If tri_truth_signal missing > 2 cycles, fallback to NullAdapter with warning."
  - "Legacy truth_score usage removed when NOVA_SLOT01_ROOT_MODE=1."

version: "2.0.0"
created_at: "2025-11-19T00:00:00Z"
