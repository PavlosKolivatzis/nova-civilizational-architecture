schema: nova_contract/v1
contract_id: rc_attestation@1
title: RC Attestation Record
description: Immutable production readiness attestation with SHA-256 hash chain (Phase 7.0-RC)
version: "1.0.0"
slots:
  - id: 0
    name: RC Attestation Generator
    role: publisher
    description: Generates deterministic attestation records for RC validation
  - id: 11
    name: Production Deployment
    role: consumer
    description: Verifies attestation integrity before production promotion

fields:
  - name: schema_version
    type: string
    description: Attestation schema version (e.g., "7.0-rc-v1")

  - name: phase
    type: string
    description: Release phase identifier (e.g., "7.0-rc")

  - name: commit
    type: string
    description: Git commit SHA at time of validation

  - name: timestamp
    type: string
    description: ISO 8601 timestamp of attestation generation

  - name: validation_period
    type: map
    description: Time window for validation (start, end, duration_hours)

  - name: memory_resonance
    type: map
    description: Memory window statistics (stability, mean_trsi, volatility, samples, trend_24h)

  - name: ris
    type: map
    description: RIS computation results (score, memory_stability, ethical_compliance)

  - name: stress_resilience
    type: map
    description: Stress simulation metrics (recovery_rate, stress_mode)

  - name: predictive_health
    type: map
    description: Predictive system health (epd_alerts, msc_blocks, collapse_events, foresight_holds)

  - name: rc_criteria
    type: map
    description: RC criteria pass/fail results (memory_stability_pass, ris_pass, stress_recovery_pass, samples_sufficient, overall_pass)

  - name: audit_status
    type: string
    description: Ethics audit result (clean, violations_detected)

  - name: attestation_hash
    type: string
    description: SHA-256 hash of canonical attestation body (excluding signature and hash)

  - name: signature
    type: string
    description: Attestation signature ("The sun shines on this work.")

semantic_mirror:
  key: rc_validation.attestation
  ttl: null  # Immutable, no expiry
  publisher: rc_attestation_generator
  readers:
    - production_deployment
    - ci_cd_pipeline
    - audit_trail

integrity:
  hash_method: SHA-256
  hash_excludes: [signature, attestation_hash]
  canonicalization: "JSON sorted keys, compact format"
  schema_validation: contracts/attestation/phase-7.0-rc.schema.json

ontology_ref: specs/nova_framework_ontology.v1.yaml
related_contracts:
  - memory_resonance_stats@1
  - rc_criteria_result@1
